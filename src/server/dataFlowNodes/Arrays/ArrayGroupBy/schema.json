{
  "id": "array-group-by",
  "version": "1.0.0",
  "name": "Array GroupBy",
  "category": "Arrays",
  "description": "Groups array elements by a key field into an object of arrays",
  "ui": { "color": "#3b82f6", "icon": "folder-tree" },
  "execution": { "timeoutMs": 5000, "recoverable": true },
  "ports": {
    "inputs": [
      { "name": "array", "type": "array", "description": "Array to group" }
    ],
    "outputs": [
      {
        "name": "groups",
        "type": "object",
        "description": "Object where keys are group values, values are arrays"
      },
      { "name": "keys", "type": "array", "description": "Array of group keys" },
      { "name": "count", "type": "number", "description": "Number of groups" }
    ]
  },
  "settings": [
    {
      "name": "groupKey",
      "type": "text",
      "label": "Group by key / path",
      "defaultValue": ""
    },
    {
      "name": "transform",
      "type": "select",
      "label": "Group value transform",
      "defaultValue": "none",
      "options": [
        { "label": "Keep full objects", "value": "none" },
        { "label": "Count only", "value": "count" },
        { "label": "Extract field", "value": "extractField" }
      ]
    },
    {
      "name": "extractField",
      "type": "text",
      "label": "Field to extract (for extractField mode)",
      "defaultValue": ""
    }
  ]
}
