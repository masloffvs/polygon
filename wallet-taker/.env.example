# Wallet Taker Configuration

# ============================================
# REQUIRED
# ============================================

# Validator token from /operator/takerValidator
TAKER_TOKEN=your_token_here

# Polygonmoneyflow wallet service URL
URL_POLYGON_WALLET=http://localhost:8080

# ============================================
# WEBSOCKET
# ============================================

# Exchange WebSocket endpoint
TAKER_WS_URL=ws://localhost:3000/api/ws/tier/takerWallet

# Reconnection settings (milliseconds)
RECONNECT_DELAY=1000
MAX_RECONNECT_DELAY=30000

# Heartbeat interval (milliseconds)
HEARTBEAT_INTERVAL=10000

# ============================================
# API SERVER
# ============================================

# REST API port
API_PORT=3001

# REST API host (0.0.0.0 for all interfaces, localhost for local only)
API_HOST=0.0.0.0

# ============================================
# DATABASE
# ============================================

# SQLite database path for withdrawal history and limits
DATABASE_PATH=./data/withdrawals.db

# ============================================
# BALANCE REPORTING
# ============================================

# Balance report interval (milliseconds)
BALANCE_REPORT_INTERVAL_MS=30000

# Balance targets (JSON array) - optional
# If empty, will use incoming transaction cache fallback
TAKER_BALANCE_TARGETS_JSON=[]

# Example with targets:
# TAKER_BALANCE_TARGETS_JSON=[{"chain":"solana","idOrAddress":"wallet_id","symbol":"SOL"},{"chain":"eth","idOrAddress":"0x123...","symbol":"ETH"}]

# Fallback balance settings (when TAKER_BALANCE_TARGETS_JSON is empty)
TAKER_BALANCE_FALLBACK_INCOMING_LIMIT=200
TAKER_BALANCE_FALLBACK_CACHE_TTL_MS=120000
TAKER_BALANCE_FALLBACK_WALLET_PAGE_LIMIT=1000
TAKER_BALANCE_FALLBACK_WALLET_MAX=5000

# USD price overrides (JSON object) - optional
TAKER_USD_PRICE_OVERRIDES_JSON={}

# Example:
# TAKER_USD_PRICE_OVERRIDES_JSON={"CUSTOM":"1.5","TEST":"0.01"}

# ============================================
# NETWORKS & FEES
# ============================================

# Supported deposit networks (comma-separated)
TAKER_DEPOSIT_NETWORKS=erc20,trc20,bep20,solana,bitcoin,xrp,doge,ltc,polygon,arbitrum

# Supported withdrawal networks (comma-separated)
TAKER_WITHDRAW_NETWORKS=erc20,trc20,bep20,solana,bitcoin,xrp,doge,ltc,polygon,arbitrum

# Taker fees by network/symbol (JSON object)
TAKER_FEES_JSON={"btc":"0.0001","erc20":"0.0005","trc20":"1","bep20":"0.5","solana":"0.01","xrp":"0.1","doge":"1","ltc":"0.001","polygon":"0.1","arbitrum":"0.0003"}

# ============================================
# DEPOSIT MONITORING
# ============================================

# Deposit poll interval (milliseconds)
DEPOSIT_POLL_INTERVAL_MS=15000

# Deposit poll limit (transactions per poll)
DEPOSIT_POLL_LIMIT=50

# ============================================
# TESTING
# ============================================

# Auto-simulate deposits after address generation (true/false)
AUTO_SIMULATE_DEPOSIT=false

# ============================================
# LOGGING
# ============================================

# Log level: trace, debug, info, warn, error, fatal
LOG_LEVEL=info
