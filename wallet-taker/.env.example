# Wallet Taker Configuration

# WebSocket endpoint for the exchange
TAKER_WS_URL=ws://localhost:3000/api/ws/tier/takerWallet

# Validator token from operator panel (/operator/takerValidator)
# Generate this in the operator panel and paste here
TAKER_TOKEN=taker_your_token_here

# Reconnection settings (milliseconds)
RECONNECT_DELAY=1000
MAX_RECONNECT_DELAY=30000

# Heartbeat interval (milliseconds)
HEARTBEAT_INTERVAL=10000

# Balance report interval (milliseconds)
BALANCE_REPORT_INTERVAL_MS=30000

# Log level (debug, info, warn, error)
LOG_LEVEL=info

# Wallet API (polygonmoneyflow service)
# Required for address generation and deposit monitoring
URL_POLYGON_WALLET=http://localhost:3000

# Deposit monitoring settings
DEPOSIT_POLL_INTERVAL_MS=15000
DEPOSIT_POLL_LIMIT=50

# Capabilities payload
TAKER_DEPOSIT_NETWORKS=erc20,trc20,bep20,solana,bitcoin,xrp,doge,ltc,polygon,arbitrum
TAKER_WITHDRAW_NETWORKS=erc20,trc20,bep20,solana,bitcoin,xrp,doge,ltc,polygon,arbitrum
TAKER_FEES_JSON={"btc":"0.0001","erc20":"0.0005","trc20":"1","bep20":"0.5","solana":"0.01","xrp":"0.1","doge":"1","ltc":"0.001","polygon":"0.1","arbitrum":"0.0003"}

# Balance report sources (wallet API chain + wallet id/address)
# Example: [{"chain":"bitcoin","idOrAddress":"bc1...","symbol":"BTC"},{"chain":"eth","idOrAddress":"0x...","symbol":"ETH"}]
TAKER_BALANCE_TARGETS_JSON=[]
# If balance targets are empty, fallback uses cached incoming txs from wallet-flow.
# Per-owner/per-wallet incoming tx fetch limit for that fallback.
TAKER_BALANCE_FALLBACK_INCOMING_LIMIT=200
# Cache TTL for fallback-computed balances (milliseconds)
TAKER_BALANCE_FALLBACK_CACHE_TTL_MS=120000
# Wallet list pagination for fallback scanner
TAKER_BALANCE_FALLBACK_WALLET_PAGE_LIMIT=1000
# Hard safety cap for wallets scanned per balance cycle
TAKER_BALANCE_FALLBACK_WALLET_MAX=5000

# Optional USD price overrides by symbol, e.g. {"BTC":43000,"ETH":2300}
TAKER_USD_PRICE_OVERRIDES_JSON={}
